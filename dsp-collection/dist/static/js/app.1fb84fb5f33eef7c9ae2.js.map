{"version":3,"sources":["webpack:///src/components/Index.vue","webpack:///./src/components/Index.vue?015b","webpack:///./src/components/Index.vue","webpack:///src/App.vue","webpack:///./src/App.vue?0518","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["Index","name","data","productList","api_key","this","$cookies","get","input","currentPage","currentDate","Date","pushNumber","pushNumberShow","publishLoading","organizationArray","organizationMap","landon-test-01","landon-test-05","dropshipping-release-incy","automizely-store","appData","app","key","platform","organization","id","priceFactors","min","max","factor","originFactor","created","methods","initOrganization","handleCurrentChange","val","getProductsList","page","arguments","length","undefined","self","headers","set","split","queryStr","join","params","limit","external_vendor_product_ids","$axios","then","response","products","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","get_iterator_default","next","done","product","value","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","variants","variant","price","amount","_","round","err","return","productsPricesHandler","pushProductsList","_this","am-api-key","am-organization-id","_loop","o","pushProduct","cloneDeepWith","post","product_id","publishProduct","$set","catch","e","console","log","message","universal_product_ids","universal_product_id","app_key","app_platform","organization_id","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","getDropshippingProductId","_this2","publishData","shipping_prices","shippingPriceMap","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","shipping_price","shipping_options","shippingOptionsMap","external_vendor_variant_ids","keyBy","country","shipping_method","shippingOptionRes","shippingTitle","cloneDeep","shipping_title","prices","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","universal_variant_ids","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","variantShippingPrice","universal_variant_id","origin_amount","variantShippingPricePricesAmount","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","priceFactor","add","multiply","shipping_amount","components_Index","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","type","placeholder","model","callback","$$v","expression","_v","_l","item","index","label","size","on","click","$event","title","onConfirm","slot","loading","directives","rawName","_s","staticStyle","width","margin","margin-right","margin-bottom","span","body-style","padding","src","image_urls","slice","ov","external_vendor_product_id","color","requestErrorMsg","requestSuccess","current-page","page-size","layout","total","current-change","update:currentPage","staticRenderFns","App","components","__webpack_require__","normalizeComponent","ssrContext","selectortype_template_index_0_src_App","src_App","App_normalizeComponent","vue_runtime_esm","config","productionTip","use","element_ui_common_default","a","vue_cookies_default","prototype","axios_default","$qs","lib_default","lodash_default","defaults","withCredentials","el","h"],"mappings":"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","file":"static/js/app.1fb84fb5f33eef7c9ae2.js","sourcesContent":["<template>\n  <div class=\"hello\">\n    <el-form>\n      <el-form-item>\n        <el-input\n     v-model=\"api_key\"\n     type=\"password\"\n     placeholder=\"请输入API KEY\"\n     ></el-input>\n     <!-- <el-input\n      v-model=\"appData.app.key\"\n      placeholder=\"请输入店铺app key\"\n     ></el-input> -->\n     <el-select v-model=\"appData.app.key\" placeholder=\"请选择\">\n      <el-option\n        v-for=\"(item, index) in organizationArray\"\n        :key=\"item\"\n        :label=\"item\"\n        :value=\"item\">\n      </el-option>\n    </el-select>\n    <el-input\n     v-model=\"input\"\n     placeholder=\"搜索内容\"\n     type=\"textarea\"\n     ></el-input>\n      </el-form-item>\n      <el-form-item>\n    <el-button size=\"small\" type=\"primary\" @click=\"getProductsList(1)\">商品查询</el-button>\n    <el-popconfirm\n      @onConfirm=\"pushProductsList\"\n      title=\"确定要推送这些商品吗？？\"\n    >\n      <el-button slot=\"reference\" size=\"small\" :loading=\"publishLoading\">推送选中的所有商品</el-button>\n    </el-popconfirm>\n    <span v-show=\"pushNumberShow\">推送成功数量:{{pushNumber}}</span>\n      </el-form-item>\n  </el-form>\n  <div style=\"width:96%; margin:0 auto\">\n<el-row >\n  <el-col :span=\"11\" v-for=\"(o) in productList\" :key=\"o\" style=\"margin-right:6px;margin-bottom:6px\">\n    <el-card :body-style=\"{ padding: '0px'}\">\n      <img :src=\"o.image_urls[0]\" class=\"image\">\n      <div style=\"padding: 8px;\">\n        <b class=\"title\">{{o.title}}</b>\n        <div v-for=\"(ov) in o.variants.slice(0,1)\" >\n          <span class=\"price-title\">销售价:</span> <span class=\"price\">${{ov.price.amount / 100}}</span> \n          <span class=\"price-title\">成本价:</span> <span class=\"price\">${{ov.price.origin_amount / 100}}</span> <br />\n          <span class=\"price-title\">运费价:</span> <span class=\"price\">${{ov.price.shipping_amount / 100}}</span> <br />\n          <span class=\"price-title\">运输方式:</span> <span>{{o.shipping_title}}</span> \n        <span class=\"product-id\">{{o.external_vendor_product_id}}</span></div>\n        <div class=\"bottom clearfix\">\n          <b style=\"color: red\">{{o.requestErrorMsg}} </b>\n          <b style=\"color: green\">{{o.requestSuccess}}</b>\n          <!-- <el-button type=\"text\" class=\"button\">操作按钮</el-button> -->\n        </div>\n      </div>\n    </el-card>\n  </el-col>\n</el-row>\n<el-pagination\n    @current-change=\"handleCurrentChange\"\n    :current-page.sync=\"currentPage\"\n    :page-size=\"100\"\n    layout=\"prev, pager, next, jumper\"\n    :total=\"60000\">\n  </el-pagination>\n  </div>\n  \n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Index',\n  data () {\n    return {\n      productList: [],\n      api_key: this.$cookies.get('am-api-key'),\n      input: '8114333',\n      currentPage: 1,\n      currentDate: new Date(),\n      pushNumber: 0,\n      pushNumberShow:false,\n      publishLoading: false,\n      organizationArray: [\n        \"landon-test-01\",\n        \"landon-test-05\",\n        \"dropshipping-release-incy\",\n        \"automizely-store\",\n      ],\n      organizationMap: {\n        \"landon-test-01\": \"9bba1ea4d5a144049772bef6b7a1841a\",\n        \"landon-test-05\": \"9bba1ea4d5a144049772bef6b7a1841a\",\n        \"dropshipping-release-incy\": \"86cf3a92b2c04d849a6056e7cd82e043\",\n        // \"automizely-store\":\"b82f5a20ae024f5f82f2a90e8a54bc35\",\n        // \"automizely-store\":\"86cf3a92b2c04d849a6056e7cd82e043\",\n        \"automizely-store\":\"b82f5a20ae024f5f82f2a90e8a54bc35\",\n      },\n      appData: {\n        app: {\n          key: \"automizely-store\",\n          name: \"dropshipping\",\n          platform: \"shopify\"\n        },\n        organization: {\n          id: \"\"\n        }\n      },\n      priceFactors: [\n        {\n          min: 0,\n          max: 499,\n          factor: \"1.5\",\n          originFactor: \"2.5\",\n        },\n        {\n          min: 500,\n          max: 999,\n          factor: \"1.25\",\n          originFactor: \"2\",\n        },\n        {\n          min: 1000,\n          max: 999999999,\n          factor: \"1.1\",\n          originFactor: \"1.5\",\n        }\n      ]\n    }\n  },\n  created: function () {\n      const self = this;\n\n      // self.setApiKey()\n      // self.getProductsList();\n\t\t},\n  methods: {\n    initOrganization(){\n      this.appData.organization.id = this.organizationMap[this.appData.app.key]\n    },\n    \n    handleCurrentChange(val) {\n      this.currentPage = val;\n      this.getProductsList(this.currentPage)\n        // console.log(`当前页: ${val}`);\n        // getProductsList(val)\n    },\n    getProductsList(page =1 ){\n      const self = this;\n      \n      //api-key处理\n      let headers = {};\n      if(self.api_key){\n        self.$cookies.set('am-api-key', self.api_key)\n        headers['am-api-key'] = self.api_key\n        headers['am-organization-id'] = self.appData.organization.id\n      }\n\n      let data = self.input.split(/[\\s\\n]/);\n      let queryStr = ''\n      if(data){\n        queryStr = data.join(',')\n      }\n\n      let params = {page: page, limit:50}\n      params.external_vendor_product_ids = queryStr\n\n\t\t\tself.$axios.get(process.env.VUE_APP_API_URL_SUPPLIER + '/suppliers/v1/products',{params:params,  headers:headers}).then((response) => {\n        //修复精度问题。\n        let products = response.data.data.products;\n        for(let product of products){\n          // 处理成最终价格\n          for(let variant of product.variants){\n            variant.price.amount = _.round(variant.price.amount, 0)\n          }\n          product = self.productsPricesHandler(product);\n        }\n\n        self.productList = products;\n          \n      })\n\n    },\n    pushProductsList(){\n      const self = this;\n\n      self.initOrganization()\n\n      self.publishLoading = true;\n      self.pushNumberShow = true;\n      self.pushNumber = 0;\n      let headers = {\n        'am-api-key': self.api_key, \n        'am-organization-id': self.appData.organization.id\n        // \"Content-Type\": \"application/json\",\n      };\n\n      for (let o of self.productList){\n        //处理商品价格\n        // let pushProduct = o;\n        \n        let pushProduct = _.cloneDeepWith(o)\n        \n        // pushProduct = self.productsPricesHandler(pushProduct);\n        // let product_id = o.id\n\n        pushProduct.app = self.appData.app;\n        pushProduct.organization = self.appData.organization;\n\n        self.$axios.post(process.env.VUE_APP_API_URL_DROPSHIPPING +'/dropshipping/v1/products',pushProduct, {headers:headers}).then((response) => {\n          self.pushNumber ++\n          let product_id = response.data.data.id\n          self.publishProduct(product_id, o)\n          \n          \n          self.$set(o,\"requestSuccess\", '推送中，请稍后~')\n        }).catch(e => {\n          console.log(e.message);\n\n          if(e.message == 'Request failed with status code 409'){\n            //查出该商品信息\n            let params = {\n              universal_product_ids: o.universal_product_id,\n              app_key: self.appData.app.key,\n              app_platform: self.appData.app.platform,\n              organization_id: self.appData.organization.id,\n            }\n            self.$axios.get(process.env.VUE_APP_API_URL_DROPSHIPPING +'/dropshipping/v1/products', {headers:headers,params: params}).then((response) => {\n              console.log(response.data.data);\n            })\n            // self.publishProduct(product_id)\n            this.$set(o,\"requestSuccess\", '此商品曾被推送成功')\n          }else{\n            this.$set(o,\"requestSuccess\", '')\n            this.$set(o,\"requestErrorMsg\", '推送失败: ' + e.message)\n          }\n          self.publishLoading = false;\n        })\n      }\n     \n    },\n    getDropshippingProductId(universal_product_id){\n\n    },\n    publishProduct(product_id, o){\n      const self = this;\n      let headers = {\n        'am-api-key': self.api_key,\n        'am-organization-id': self.appData.organization.id\n        // \"Content-Type\": \"application/json\",\n      };\n\n      let publishData = self.appData\n\n      self.$axios.post(process.env.VUE_APP_API_URL_DROPSHIPPING +'/dropshipping/v1/products/' + product_id + '/publish',publishData, {headers:headers}).then((response) => {\n        self.publishLoading = false;\n        this.$set(o,\"requestSuccess\", '推送成功')\n      }).catch(e => {\n        self.publishLoading = false;\n        console.log('推送失败');\n      })\n    },\n    productsPricesHandler(product){\n      const self = this;\n      // let shipping_prices = product.shipping_prices;\n      // let variants = product.variants;\n      if(product.shipping_prices.length == 0){\n        return product\n      }\n      // let variantsMap = _.key(variants, 'id')\n\n      let shippingPriceMap = {}\n\n      for(let shipping_price of product.shipping_prices){\n        let shipping_options = shipping_price.shipping_options\n        let external_vendor_variant_ids = shipping_price.external_vendor_variant_ids\n        \n        let shippingOptionsMap = _.keyBy(shipping_options, function(o) {\n          return o.country + '-'+ o.shipping_method;\n        })   //读出所有物流方式，以国家+快递类型组合，如US-USPS\n\n        //判断哪个价格低：\n        let shippingOptionRes = null;\n        let shippingTitle = \"\";\n        if(shippingOptionsMap[\"USA-USPS\"]){\n          shippingTitle = \"USPS\";\n          shippingOptionRes = _.cloneDeep(shippingOptionsMap[\"USA-USPS\"])\n        }else if(shippingOptionsMap[\"USA-4PX\"]){\n          shippingTitle = \"4PX\";\n          shippingOptionRes = _.cloneDeep(shippingOptionsMap[\"USA-4PX\"])\n        }else if(shippingOptionsMap[\"USA-US Express Shipping\"]){\n          shippingTitle = \"USPS\";\n          shippingOptionRes = _.cloneDeep(shippingOptionsMap[\"USA-US Express Shipping\"])\n        }else if(shippingOptionsMap[\"USA-US Standard\"]){\n          shippingTitle = \"4PX\"\n          shippingOptionRes = _.cloneDeep(shippingOptionsMap[\"USA-US Standard\"])\n        }\n        \n        product.shipping_title = shippingTitle;\n        try{\n          shippingOptionRes.prices = _.keyBy(shippingOptionRes.prices, 'unit')\n        }catch(e){\n\n          // console.log(product.external_vendor_product_id);\n          // console.log('+============');\n        }\n\n        //TODO： 若此处没有运费价格，应该是要返回报错的。\n        if(!shippingOptionRes){\n          return product\n        }\n\n        for(let universal_variant_id of shipping_price.universal_variant_ids){\n          shippingPriceMap[universal_variant_id] = shippingOptionRes;\n        }\n      }\n\n      for(let variant of product.variants){\n        const variantShippingPrice = shippingPriceMap[variant.universal_variant_id]\n        //循环给price 进行加价\n        let variantxSellPrice = 0;\n\n        variant.price.origin_amount = variant.price.amount;\n\n        let variantShippingPricePricesAmount = 0\n        try{\n          variantShippingPricePricesAmount = variantShippingPrice.prices[1].amount;\n        }catch(e){\n        }\n\n        for(let priceFactor of self.priceFactors){\n          if(priceFactor.min <= variant.price.amount && variant.price.amount <= priceFactor.max){\n            variant.price.amount = _.round(_.add(variant.price.amount, variantShippingPricePricesAmount, 0))\n\n            variant.price.amount = _.round(_.multiply(variant.price.amount, priceFactor.factor),0)\n          }\n        }\n      \n          variant.price.shipping_amount = variantShippingPricePricesAmount;\n        \n      }\n\n      return product\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n  .time {\n    font-size: 13px;\n    color: #999;\n  }\n  \n  .bottom {\n    margin-top: 13px;\n    line-height: 12px;\n  }\n\n  .button {\n    padding: 0;\n    float: right;\n  }\n\n  .image {\n    /* width: 100%; */\n    height: 100px;\n    margin:0 auto;\n    display: block;\n  }\n\n  .clearfix:before,\n  .clearfix:after {\n      display: table;\n      content: \"\";\n  }\n  .title{\n    font-size: 10px;\n    display: -webkit-box;\n    overflow: hidden;\n    -webkit-line-clamp: 2;\n    text-overflow: ellipsis;\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n  }\n  .price-title{\n    font-size: 0.5em ;\n    color: #777;\n  }\n  .price{\n    color: orange;\n  }\n  .product-id{\n    font-size: 8px;\n    color: grey;\n  }\n  .clearfix:after {\n      clear: both\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hello\"},[_c('el-form',[_c('el-form-item',[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"请输入API KEY\"},model:{value:(_vm.api_key),callback:function ($$v) {_vm.api_key=$$v},expression:\"api_key\"}}),_vm._v(\" \"),_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.appData.app.key),callback:function ($$v) {_vm.$set(_vm.appData.app, \"key\", $$v)},expression:\"appData.app.key\"}},_vm._l((_vm.organizationArray),function(item,index){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})})),_vm._v(\" \"),_c('el-input',{attrs:{\"placeholder\":\"搜索内容\",\"type\":\"textarea\"},model:{value:(_vm.input),callback:function ($$v) {_vm.input=$$v},expression:\"input\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.getProductsList(1)}}},[_vm._v(\"商品查询\")]),_vm._v(\" \"),_c('el-popconfirm',{attrs:{\"title\":\"确定要推送这些商品吗？？\"},on:{\"onConfirm\":_vm.pushProductsList}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"size\":\"small\",\"loading\":_vm.publishLoading},slot:\"reference\"},[_vm._v(\"推送选中的所有商品\")])],1),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.pushNumberShow),expression:\"pushNumberShow\"}]},[_vm._v(\"推送成功数量:\"+_vm._s(_vm.pushNumber))])],1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"96%\",\"margin\":\"0 auto\"}},[_c('el-row',_vm._l((_vm.productList),function(o){return _c('el-col',{key:o,staticStyle:{\"margin-right\":\"6px\",\"margin-bottom\":\"6px\"},attrs:{\"span\":11}},[_c('el-card',{attrs:{\"body-style\":{ padding: '0px'}}},[_c('img',{staticClass:\"image\",attrs:{\"src\":o.image_urls[0]}}),_vm._v(\" \"),_c('div',{staticStyle:{\"padding\":\"8px\"}},[_c('b',{staticClass:\"title\"},[_vm._v(_vm._s(o.title))]),_vm._v(\" \"),_vm._l((o.variants.slice(0,1)),function(ov){return _c('div',[_c('span',{staticClass:\"price-title\"},[_vm._v(\"销售价:\")]),_vm._v(\" \"),_c('span',{staticClass:\"price\"},[_vm._v(\"$\"+_vm._s(ov.price.amount / 100))]),_vm._v(\" \"),_c('span',{staticClass:\"price-title\"},[_vm._v(\"成本价:\")]),_vm._v(\" \"),_c('span',{staticClass:\"price\"},[_vm._v(\"$\"+_vm._s(ov.price.origin_amount / 100))]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('span',{staticClass:\"price-title\"},[_vm._v(\"运费价:\")]),_vm._v(\" \"),_c('span',{staticClass:\"price\"},[_vm._v(\"$\"+_vm._s(ov.price.shipping_amount / 100))]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('span',{staticClass:\"price-title\"},[_vm._v(\"运输方式:\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(o.shipping_title))]),_vm._v(\" \"),_c('span',{staticClass:\"product-id\"},[_vm._v(_vm._s(o.external_vendor_product_id))])])}),_vm._v(\" \"),_c('div',{staticClass:\"bottom clearfix\"},[_c('b',{staticStyle:{\"color\":\"red\"}},[_vm._v(_vm._s(o.requestErrorMsg)+\" \")]),_vm._v(\" \"),_c('b',{staticStyle:{\"color\":\"green\"}},[_vm._v(_vm._s(o.requestSuccess))])])],2)])],1)})),_vm._v(\" \"),_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-size\":100,\"layout\":\"prev, pager, next, jumper\",\"total\":60000},on:{\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.currentPage=$event}}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-01baadef\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-01baadef\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Index.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-01baadef\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-01baadef\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Index.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <!-- <img src=\"./assets/logo.png\"> -->\n    <Index/>\n  </div>\n</template>\n\n<script>\nimport Index from './components/Index'\n\nexport default {\n  name: 'App',\n  components: {\n    Index\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  /* text-align: center; */\n  color: #2c3e50;\n  /* margin-top: 60px; */\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('Index')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2e755ecd\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2e755ecd\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2e755ecd\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport App from './App'\n\nimport axios from 'axios'\nimport VueAxios from 'vue-axios'\nimport qs from 'qs'\n\nimport ElementUI from 'element-ui';\nimport 'element-ui/lib/theme-chalk/index.css';\nimport VueCookies from 'vue-cookies'\nimport _ from 'lodash'\n\n\n\nVue.config.productionTip = false\nVue.use(ElementUI)\nVue.use(VueCookies)\nVue.prototype.$axios = axios\nVue.prototype.$qs = qs;\n\nVue.prototype._ = _\n\n// axios.defaults.baseURL = '/'\naxios.defaults.headers.post['Content-Type'] = 'application/json';\naxios.defaults.withCredentials = true\n\n// Vue.config.productionTip = false\n\n\n\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  render: h => h(App)\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}